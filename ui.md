# UI

## 引言

本文档将介绍平台的UI模块，包括UI是如何工作的，如何配置UI，以及UI的API列表等等。本文档涉及到的基本术语定义如下：

* `组件`: 例如Button、Label、Image等等。
* `页面`: 容纳组件的角色。一个页面可以包含多个组件，但是一个组件只能属于一个页面。页面可以理解为一个容器，用于容纳组件。
* `格栅布局`: 页面的布局方式。格栅布局将页面划分为若干行和若干列形成格栅形状，组件可以放置在格栅的任意位置。
* `Window`: 窗口组件，是页面的一种。窗口是最基础的组件，默认在右上角包含了最小化、最大化、关闭三个按钮，它只能作为页面去容纳其他组件，但是不能作为组件放在其他页面之上。
* `Panel`: 面板组件，是页面的一种。面板既可以作为组件分布在其他页面之上，也可以本身作为页面容纳其他组件。
* `xxx.uc`: UI配置文件（UI configuration）。格式为json，指明了UI的一些基本配置，例如数据库端口号、ul文件路径、up文件路径等等。
* `xxx.ul`: 页面布局文件（UI layout）。格式为json，包含了一个json array，array中每一项都是一个页面的布局信息。
* `xxx.up`: 组件属性文件（UI property）。格式为json，包含了一个json array，array中每一项都是一个组件的属性配置信息。用户可以对组件的属性值进行静态设置，或者对属性进行动态的数据绑定，以及设定组件的监听事件和动作。
* `数据绑定`: 指组件的属性值（例如Label组件的text属性）可以和数据库中的数据源进行绑定。组件会根据用户设定的频率去查询数据库，然后将数据库中的数据更新到组件的属性值中。
* `事件监听`: 指组件可以监听的事件，例如Button的点击事件等等。
* `动作`: 指当监听的事件发生时执行的动作，例如Button的点击动作发生后，可以执行一个动作，例如弹出一个对话框等等。

下面我将从准备步骤、xxx.uc、xxx.ul、xxx.up、常见问题五个方面来介绍UI模块。

## 准备步骤

在使用UI模块之前，需要先准备好以下几个文件：

* xxx.uc
* xxx.ul
* xxx.up

然后就是确保运行UI前，数据库已经启动了。数据库的启动方式请参考[启动数据库服务器](database.md#启动数据库服务器)。

## xxx.uc

## xxx.ul

## xxx.up

## 常见问题
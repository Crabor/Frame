<?xml version="1.0"?>

<rules>

    <rule>
        <id>rule_taxis</id>
        <formula>
            <forall var = "v1" in = "pat_001">
                <forall var="v2" in="pat_002">
                    <bfunction name="two-layer">
                        <param pos="1" var="v1"/>
                        <param pos="2" var="v2"/>
                    </bfunction>
                </forall>
            </forall>
        </formula>
        <resovler>
            <type>fix</type> <!-- drop / fix -->
            <variable>v1</variable>
            <fixingPairList>
                <fixingPair>
                    <field>taxiId</field>
                    <value>B22222</value>
                </fixingPair>
                <fixingPair>
                    <field>status</field>
                    <value>2</value>
                </fixingPair>
            </fixingPairList>
        </resovler>
    </rule>

    <rule>
        <id>rule_left</id>
        <formula>
            <forall var = "v1" in = "pat_front">
                <bfunction name = "isValid">
                    <param pos = "1" var = "v1" field = "type" />
                </bfunction>
            </forall>
        </formula>
        <resovler>
            <type>drop</type> <!-- drop / fix -->
            <variable>v1</variable>
        </resovler>
    </rule>

    <rule>
        <id>rule_left</id>
        <formula>
            <forall var = "v1" in = "pat_left">
                <bfunction name = "isValid">
                    <param pos = "1" var = "v1" field = "type" />
                </bfunction>
            </forall>
        </formula>
        <resovler>
            <type>drop</type> <!-- drop / fix -->
            <variable>v1</variable>
        </resovler>
    </rule>

    <rule>
        <id>rule_right</id>
        <formula>
            <forall var = "v1" in = "pat_right">
                <bfunction name = "isValid">
                    <param pos = "1" var = "v1" field = "type" />
                </bfunction>
            </forall>
        </formula>
        <resovler>
            <type>drop</type> <!-- drop / fix -->
            <variable>v1</variable>
        </resovler>
    </rule>

</rules>